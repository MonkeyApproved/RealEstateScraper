(this["webpackJsonpreal-estate-frontend"]=this["webpackJsonpreal-estate-frontend"]||[]).push([[0],{177:function(e,t,n){},270:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(35),i=n.n(r),s=(n(177),n(2)),o=n(4),l=n(272),d=n(167),j=n(73),u=n(285),b=n(24),p=n(52),x=n.n(p),h=n(273),O=n(34),f=n.n(O);function m(e){var t=new Date(e);return Intl.DateTimeFormat("en",{month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).format(t)}var g=n(6);function y(e){var t=e.propertyList,n=e.settings,a=e.setSettings,c=Object(b.f)();return Object(g.jsxs)(h.a,{dataSource:t,pagination:{pageSize:20,total:n.count,simple:!0},onRow:function(e){return{onClick:function(){return function(e){c("/details/".concat(e.xe_id))}(e)}}},onChange:function(e,t,c){Array.isArray(c)&&(c=c[0]);var r=(e.current||1)-1,i=e.pageSize||20,s="";c.columnKey&&c.order&&(s="&ordering=".concat("ascend"===c.order?"":"-").concat(c.columnKey)),a({count:n.count,limit:i,offset:r*i,ordering:s,filter:""})},children:[Object(g.jsx)(f.a,{title:"Area",dataIndex:["details","area"]},"area"),Object(g.jsx)(f.a,{title:"Price",dataIndex:["details","price_total"]},"price_total"),Object(g.jsx)(f.a,{title:"Size",dataIndex:["details","size_sqm"]},"size_sqm"),Object(g.jsx)(f.a,{title:"Year",dataIndex:["details","construction_year"]},"year"),Object(g.jsx)(f.a,{title:"Owner",dataIndex:"owner"},"owner"),Object(g.jsx)(f.a,{title:"Rooms",dataIndex:"details",render:function(e){return Object(g.jsx)("span",{children:"".concat(e.bathrooms||0," bath, ").concat(e.bedrooms||0," bed")})}},"details"),Object(g.jsx)(f.a,{title:"First parsed",dataIndex:"first_parsed_on",render:m},"first_parsed_on"),Object(g.jsx)(f.a,{title:"Last parsed",dataIndex:"last_parsed_on",render:m,sorter:!0},"last_parsed_on")]})}function v(e){return Object(g.jsx)("div",{className:x.a.content,children:Object(g.jsx)(y,{propertyList:e.propertyList,settings:e.settings,setSettings:e.setSettings})})}var _=n(279),I=n(280),w=n(47),k=n(29),S=n.n(k),C=n(72),F=n.n(C),L="http://localhost:8001/manager",T={"ChIJ8UNwBh-9oRQR3Y1mdkU1Nic":"Athens","aj5k2hs-as3dl3k":"Corfu"};function q(){return(q=Object(w.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F.a.get("".concat(L,"/load_config/")));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(w.a)(S.a.mark((function e(t){var n,a,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=0,a=Object.keys(t);n<a.length;n++)c=a[n],void 0===t[c]&&(t[c]=null);return e.abrupt("return",F.a.post("".concat(L,"/load_config/"),t));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(w.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F.a.get("".concat(L,"/data_loads/")));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){var t=e.loadConfig;return Object(g.jsxs)(h.a,{dataSource:t,children:[Object(g.jsx)(f.a,{title:"Name",dataIndex:"config_name"},"config_name"),Object(g.jsx)(f.a,{title:"Frequency",dataIndex:"frequency",render:function(e){return 1===e?Object(g.jsx)("span",{children:"Hourly"}):24===e?Object(g.jsx)("span",{children:"Daily"}):168===e?Object(g.jsx)("span",{children:"Weekly"}):Object(g.jsx)("span",{children:"every ".concat(e,"h")})}},"frequency"),Object(g.jsx)(f.a,{title:"Location",dataIndex:"geo_place_id",render:function(e){return T[e]?Object(g.jsx)("span",{children:T[e]}):Object(g.jsx)("span",{children:"unknown"})}},"geo_place_id"),Object(g.jsx)(f.a,{title:"Type",dataIndex:"item_type",render:function(e){return"re_residence"===e?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(_.a,{}),Object(g.jsx)("span",{style:{paddingLeft:10},children:"Residence"})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(I.a,{}),Object(g.jsx)("span",{style:{paddingLeft:10},children:"Land"})]})}},"item_type")]})}function z(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){(function(){return q.apply(this,arguments)})().then((function(e){c(e.data.results)})).catch((function(e){d.b.error("Failed to get load_config: ".concat(e))}))}),[]),Object(g.jsx)("div",{className:x.a.content,children:Object(g.jsx)(R,{loadConfig:n})})}var B=n(275),E=n(165),G=n(125),M=n(276),D=n(46);function J(){var e=B.a.useForm(),t=Object(o.a)(e,1)[0];return Object(g.jsx)("div",{className:x.a.content,children:Object(g.jsxs)(B.a,Object(s.a)(Object(s.a)({},{labelCol:{span:8},wrapperCol:{span:16}}),{},{form:t,name:"control-hooks",onFinish:function(e){(function(e){return A.apply(this,arguments)})(e).then((function(e){d.b.info("New config added: ".concat(e.statusText," (").concat(e.status,")"))})).catch((function(e){d.b.error("Failed to get load_config: ".concat(e))}))},initialValues:{frequency:24,maximum_price:2e5},children:[Object(g.jsx)(B.a.Item,{name:"config_name",label:"Config name",rules:[{required:!0}],children:Object(g.jsx)(E.a,{placeholder:"give this configuration a meaningful name"})}),Object(g.jsx)(B.a.Item,{name:"frequency",label:"Frequency",rules:[{required:!0}],children:Object(g.jsxs)(G.a.Group,{children:[Object(g.jsx)(G.a.Button,{value:1,children:"Hourly"}),Object(g.jsx)(G.a.Button,{value:24,children:"Daily"}),Object(g.jsx)(G.a.Button,{value:168,children:"Weekly"})]})}),Object(g.jsx)(B.a.Item,{name:"item_type",label:"Type",rules:[{required:!0}],children:Object(g.jsxs)(G.a.Group,{children:[Object(g.jsx)(G.a.Button,{value:"re_residence",children:"Apartment"}),Object(g.jsx)(G.a.Button,{value:"re_land",children:"Land"})]})}),Object(g.jsx)(B.a.Item,{name:"geo_place_id",label:"Location",rules:[{required:!0}],children:Object(g.jsxs)(G.a.Group,{children:[Object(g.jsx)(G.a.Button,{value:"ChIJ8UNwBh-9oRQR3Y1mdkU1Nic",children:"Athens"}),Object(g.jsx)(G.a.Button,{value:"ChIJ11DRvwBcWxMREJS54iy9AAQ",children:"Corfu"})]})}),Object(g.jsx)(B.a.Item,{name:"maximum_price",label:"Max price",children:Object(g.jsx)(M.a,{})}),Object(g.jsx)(B.a.Item,{name:"minimum_construction_year",label:"Min constr. year",children:Object(g.jsx)(M.a,{})}),Object(g.jsx)(B.a.Item,{name:"minimum_size",label:"Min size",children:Object(g.jsx)(M.a,{})}),Object(g.jsxs)(B.a.Item,{wrapperCol:{offset:4,span:16},children:[Object(g.jsx)(D.a,{type:"primary",htmlType:"submit",children:"Add"}),Object(g.jsx)(D.a,{htmlType:"button",onClick:function(){t.resetFields()},children:"Reset"})]})]}))})}var H=n(127),P=n(129);function U(e){var t=e.dataLoad;return Object(g.jsxs)(h.a,{dataSource:t,children:[Object(g.jsx)(f.a,{title:"",dataIndex:"completed",render:function(e){return e?Object(g.jsx)(H.a,{}):Object(g.jsx)(P.a,{})}},"config_name"),Object(g.jsx)(f.a,{title:"Config",dataIndex:["load_config","config_name"]},"config_name"),Object(g.jsx)(f.a,{title:"Loaded on",dataIndex:"created_on",render:m},"config_name"),Object(g.jsx)(f.a,{title:"Total",dataIndex:"count_total"},"frequency"),Object(g.jsx)(f.a,{title:"New",dataIndex:"count_new"},"frequency")]})}function Y(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){(function(){return N.apply(this,arguments)})().then((function(e){c(e.data.results)})).catch((function(e){d.b.error("Failed to get load_config: ".concat(e))}))}),[]),Object(g.jsx)("div",{className:x.a.content,children:Object(g.jsx)(U,{dataLoad:n})})}var K=n(281),Q=n(282),W=n(283),V=n(284),X=n(277),Z=n(271),$=n(88),ee=n(278),te=n(274),ne="http://localhost:8001/properties";function ae(){return(ae=Object(w.a)(S.a.mark((function e(t){var n,a,c,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.offset,a=t.limit,c=t.ordering,r="?limit=".concat(a,"&offset=").concat(n),e.abrupt("return",F.a.get("".concat(ne,"/xe_result/").concat(r).concat(c)));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(){return(ce=Object(w.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F.a.get("".concat(ne,"/details/").concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e){var t=Object(b.g)(),n=Object(b.f)(),c=Object(a.useState)(),r=Object(o.a)(c,2),i=r[0],s=r[1];Object(a.useEffect)((function(){(function(e){return ce.apply(this,arguments)})(t.propertyId||"").then((function(e){s(e.data)})).catch((function(e){d.b.error("Failed to get load_config: ".concat(e))}))}),[]);var l=Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(K.a,{}),Object(g.jsx)("span",{children:" Rooms"})]}),j=Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Q.a,{}),Object(g.jsx)("span",{children:" Price"})]}),u=Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(W.a,{}),Object(g.jsx)("span",{children:" Description"})]}),p=Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(V.a,{}),Object(g.jsx)("span",{children:" Contact"})]}),h=Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(_.a,{}),Object(g.jsx)("span",{children:" Building"})]}),O=function(){n("/properties")};return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(v,{propertyList:e.propertyList,settings:e.settings,setSettings:e.setSettings}),Object(g.jsxs)(X.a,{style:{top:20},width:"90vw",visible:!0,className:x.a.content,footer:Object(g.jsx)(D.a,{onClick:O,children:"Back"},"back"),onCancel:O,children:[Object(g.jsx)(Z.a,{orientation:"center",children:"DETAILS"}),Object(g.jsx)($.a,{justify:"center",align:"top",children:Object(g.jsxs)(ee.b,{direction:"horizontal",align:"end",children:[Object(g.jsxs)(te.a,{title:h,style:{width:300,height:"100%"},children:[Object(g.jsxs)("p",{children:["Area: ",null===i||void 0===i?void 0:i.details[0].area]}),Object(g.jsxs)("p",{children:["Type: ",null===i||void 0===i?void 0:i.details[0].property_type]}),Object(g.jsxs)("p",{children:["Year: ",null===i||void 0===i?void 0:i.details[0].construction_year]})]}),Object(g.jsxs)(te.a,{title:l,style:{width:300,height:"100%"},children:[Object(g.jsxs)("p",{children:[null===i||void 0===i?void 0:i.details[0].bathrooms," bathrooms"]}),Object(g.jsxs)("p",{children:[null===i||void 0===i?void 0:i.details[0].bedrooms," bedrooms"]})]}),Object(g.jsxs)(te.a,{title:j,style:{width:300,height:"100%"},children:[Object(g.jsxs)("p",{children:["Total: ",null===i||void 0===i?void 0:i.details[0].price_total,"\u20ac"]}),Object(g.jsxs)("p",{children:["Size: ",null===i||void 0===i?void 0:i.details[0].size_sqm,"m^2"]}),Object(g.jsxs)("p",{children:["Relative: ",null===i||void 0===i?void 0:i.details[0].price_sqm,"\u20ac/m^2"]})]}),Object(g.jsxs)(te.a,{title:p,style:{width:300,height:"100%"},children:[Object(g.jsxs)("p",{children:["Company: ",null===i||void 0===i?void 0:i.owner[0].company_title]}),Object(g.jsxs)("p",{children:["Email: ",null===i||void 0===i?void 0:i.owner[0].email]}),Object(g.jsxs)("p",{children:["#Adds: ",null===i||void 0===i?void 0:i.owner[0].active_ads]})]})]})}),Object(g.jsx)($.a,{justify:"center",align:"top",style:{paddingTop:10},children:Object(g.jsxs)(te.a,{title:u,style:{width:"60%",height:"100%"},children:[Object(g.jsx)("p",{children:null===i||void 0===i?void 0:i.details[0].description}),Object(g.jsx)("a",{href:null===i||void 0===i?void 0:i.xe_result[0].url,target:"_blank",rel:"noreferrer",children:"See add on xe.gr"})]})}),Object(g.jsx)(Z.a,{orientation:"center",children:"IMAGES"}),Object(g.jsx)($.a,{justify:"center",align:"top",style:{paddingTop:10},children:Object(g.jsx)("div",{className:x.a.imageGallery,children:null===i||void 0===i?void 0:i.images.map((function(e){return Object(g.jsx)("img",{src:e.small,alt:"property_".concat(e.xe_id)},e.small)}))})}),Object(g.jsx)(Z.a,{orientation:"center",children:"MAP"}),Object(g.jsx)("iframe",{className:x.a.map,src:function(){var e=(null===i||void 0===i?void 0:i.location[0].longitude)||"0",t=(null===i||void 0===i?void 0:i.location[0].latitude)||"0";return"https://maps.google.com/maps?q=".concat(t,", ").concat(e,"&z=15&output=embed")}()})]})]})}var ie=l.a.Header,se=l.a.Content,oe=l.a.Footer;function le(){var e=Object(b.f)(),t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)({count:0,limit:20,offset:0,ordering:"",filter:""}),p=Object(o.a)(i,2),x=p[0],h=p[1];return Object(a.useEffect)((function(){(function(e){return ae.apply(this,arguments)})(x).then((function(e){r(e.data.results),e.data.count!==x.count&&h(Object(s.a)(Object(s.a)({},x),{},{count:e.data.count}))})).catch((function(e){d.b.error("Failed to GET Xe Results: ".concat(e))}))}),[x]),Object(g.jsxs)(l.a,{className:"layout",children:[Object(g.jsx)(ie,{children:Object(g.jsxs)(j.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["properties"],children:[Object(g.jsx)(j.a.Item,{icon:Object(g.jsx)(u.a,{}),onClick:function(){return e("/properties")},children:Object(g.jsx)("span",{children:"Properties"})},"properties"),Object(g.jsx)(j.a.Item,{onClick:function(){return e("/config")},children:Object(g.jsx)("span",{children:"Config"})},"config"),Object(g.jsx)(j.a.Item,{onClick:function(){return e("/add_config")},children:Object(g.jsx)("span",{children:"Add"})},"add_config"),Object(g.jsx)(j.a.Item,{onClick:function(){return e("/loads")},children:Object(g.jsx)("span",{children:"Loads"})},"loads")]})}),Object(g.jsx)(se,{style:{padding:"0 50px"},children:Object(g.jsx)("div",{className:"site-layout-content",children:Object(g.jsxs)(b.c,{children:[Object(g.jsx)(b.a,{path:"/",element:Object(g.jsx)(v,{propertyList:c,settings:x,setSettings:h})}),Object(g.jsx)(b.a,{path:"/properties",element:Object(g.jsx)(v,{propertyList:c,settings:x,setSettings:h})}),Object(g.jsx)(b.a,{path:"/config",element:Object(g.jsx)(z,{})}),Object(g.jsx)(b.a,{path:"/add_config",element:Object(g.jsx)(J,{})}),Object(g.jsx)(b.a,{path:"/loads",element:Object(g.jsx)(Y,{})}),Object(g.jsx)(b.a,{path:"/details/:propertyId",element:Object(g.jsx)(re,{propertyList:c,settings:x,setSettings:h})})]})})}),Object(g.jsx)(oe,{style:{textAlign:"center"},children:"Real Estate Scarper by MonkeyApproved"})]})}var de=n(91);i.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(de.a,{children:Object(g.jsx)(le,{})})}),document.getElementById("root"))},52:function(e,t,n){e.exports={content:"Tabs_content__2d6p_",map:"Tabs_map__2H_fd",details:"Tabs_details__3Tv4z",imageGallery:"Tabs_imageGallery__2i2VR"}}},[[270,1,2]]]);
//# sourceMappingURL=main.a66091b9.chunk.js.map